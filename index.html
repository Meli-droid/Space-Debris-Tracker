<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Space Debris Tracker</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>
<body>
    <h1>Space Debris Tracker</h1>

    <!-- Dropdown for Satellite Type -->
    <label for="satelliteType">Filter by Satellite Type:</label>
    <select id="satelliteType" onchange="filterData()">
        <option value="all">All Satellites</option>
        <option value="decommissioned">Decommissioned</option>
        <option value="rocket-body">Rocket Body</option>
        <option value="fragment">Fragment</option>
    </select>

    <!-- Date Slider -->
    <label for="dateRange">Select Date Range:</label>
    <input type="range" id="dateRange" min="2000" max="2024" step="1" value="2024" onchange="filterByDate()">
    <span id="dateValue">2024</span>

    <div id="map" style="width: 100%; height: 500px;"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Sample space debris data (replace this with real data from the API)
        const spaceDebrisData = [
            { name: "Satellite A", type: "decommissioned", launchDate: 2005, lat: 10, lon: 20 },
            { name: "Satellite B", type: "rocket-body", launchDate: 2010, lat: 30, lon: 40 },
            { name: "Satellite C", type: "fragment", launchDate: 2020, lat: 50, lon: 60 }
        ];

        // Initialize the Leaflet map
        const map = L.map('map').setView([0, 0], 1);  // Set default view (world map)

        // Add OpenStreetMap tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Function to filter data by satellite type and date
        function filterData() {
            const selectedType = document.getElementById("satelliteType").value;
            const selectedYear = document.getElementById("dateRange").value;

            const filteredData = spaceDebrisData.filter(item => {
                const matchesType = selectedType === "all" || item.type === selectedType;
                const matchesDate = item.launchDate <= selectedYear;
                return matchesType && matchesDate;
            });

            updateMap(filteredData);
        }

        // Function to update map markers
        function updateMap(data) {
            // Clear existing markers (if any)
            map.eachLayer(layer => {
                if (layer instanceof L.Marker) {
                    map.removeLayer(layer);
                }
            });

            // Add filtered markers to map
            data.forEach(debris => {
                L.marker([debris.lat, debris.lon])
                    .addTo(map)
                    .bindPopup(`<b>${debris.name}</b><br>Type: ${debris.type}<br>Lat: ${debris.lat}<br>Lon: ${debris.lon}`);
            });
        }

        // Initial map load with all data
        updateMap(spaceDebrisData);
    </script>
</body>
</html>











